
## 文件类型
* 普通文件
* 目录
* 块特殊文件(磁盘)
* 字符特殊文件(终端)
* FIFO(命名管道)
* 套接字(socket)
* 符号链接

## 和用户, 组的关系
* 实际用户 -- 我们是谁
* 实际组 ---- 我们是谁
* 有效用户 -- 判断权限时使用
* 有效组 ---- 判断权限时使用
* 附属组 ---- 判断权限时使用
* 保存的设置用户
* 保存的设置组
* access() -- 以实际用户测试权限, 一般以有效用户测试

## 文件权限(chmod)
* 读, 写, 执行
* 在目录下新增或删除文件时, 至少拥有此目录的写和执行权限
* SUID
    * 二进制文件: 程序的执行者拥有程序所有者的权限
    * 其他文件没意义
* SGID
    * 二进制文件: 程序的执行者拥有程序所属组的权限
    * 目录: 新增的文件所属的组是此目录所属的组
    * 其他文件没意义
* SBIT
    * 目录: 此目录下的内容只有文件所有者 或 目录所有者 或 root 用户才能删除
    * 其他文件没意义
* 权限判断:
    * 依次判断所属用户, 所属组和其他权限
    * 前者失败时, 不判断后者
    * 假如 1.cc 的权限为 0070,
    * 所属主无权限, 所属组有权限时,
    * 对所属主也将判断为无权限

## 硬链接(不常用)
* 一般不允许设置指向目录的硬链接
* 不能跨文件系统
* 采用引用计数
* 引用计数降为 0, 且没有进程打开改文件时, 才删除此文件
* link() ---- 增加硬链接的引用计数
* unlink() -- 减少硬链接的引用计数, 有进程打开该文件时, 不会删除
* remove() -- 删除硬链接 或 目录

## 软链接(常用)
* 可以针对文件或目录设置
* 可以跨文件系统
* symlink() --- 新建符号链接
* readlink() -- 读取符号链接

## 重命名
* 同一文件系统, 存储不变, 只修改名称
* rename() -- 重命名

## 文件时间
* atime: 内容访问时间, 更新可能不及时
* mtime: 内容修改时间
* ctime: 状态修改时间, 包括 内容 名称 权限 所属者 所属组
* utimes(): 修改内容访问时间, 内容修改时间; 状态修改时间不能修改

## 查看目录
* opendir() ---- 打开目录(文件名称)
* fdopendir() -- 打开目录(文件描述符)
* readdir() ---- 读目录
* closedir() --- 关闭目录
* chdir() ------ 修改当前目录(目录名称)
* fchdir() ----- 修改当前目录(文件描述符)
* getcwd() ----- 获取当前目录

