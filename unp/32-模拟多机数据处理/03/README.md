
> 一、多机数据处理。有 10 台机器，每台机器上保存着 10 亿个 64-bit 整数（不一定刚好 10 亿个，
> 可能有上下几千万的浮动），一共约 100 亿个整数（其实一共也就 80GB 数据，不算大，选这个量
> 级是考虑了 VPS 虚拟机的容量，便于实验）。编程求出：
>
> 3. 出现次数最多的 100 万个数。
>

思路:

1. 由于数据量太大，一台机器内存不够，所以, 每台机器将自己的数据发给主机器
2. 主机器计算每个数据的 hash 值，将相同 hash 值的数据发给相同的子机器
3. 每个子机器收到数据后，计算每个数据的次数，并将次数最多的前 100 万数据以及出现的次数发送给主机器
4. 主机器使用最大堆，归并各个子机器的数据，最终计算出出现次数最多的前 100 万个数

## 问题:
1. 本项目为求简单，所有数据都在内存中处理，而 10 亿个数太大了，所以本项目只计算 1 万个数，主机器求出现次数最多的 10 个数
2. 本项目为求简单，只模拟 4 台机器
3. 对于整数的发送，将整数转化为字符串发送，以 `\0` 作为切割符

## 在本机重现如下
1. 调用 `socket()` `bind()` `listen()` 启动服务器，使其处于监听状态
2. 调用 `socket()` `connect()` 连接服务器
3. 产生 10000 个整数，将数据发给服务器， 重复 4 次，模拟 4 台机器
4. 调用 `accept()` 接受客户端的连接，4 次，对每个机器发送的数据计算 hash 值，将相同 hash 值的数发给相同的子机器
5. 子机器收到数据后，计算每个数据出现的次数，将出现次数最多的 10 个数及其出现的次数发给主机器
6. 主机器收到数据后，使用最大堆归并，最后求出出现次数最多的 10 个数

