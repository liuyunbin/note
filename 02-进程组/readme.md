
# 计算机操作系统-进程组
## 存在意义
* 为了便于向一批进程发送信号

## 新建进程组
* 只能新建值为对应的 PID 的进程组, 并将对应进程加入该进程组
* 如果新建的进程组的值与原进程组的值相同, 则忽略
* 可以为自身新建进程组 ---------------------------------------- 01.cc
    1. 父进程新建值为对应的 PID 进程组(PID == PGID)
    2. 父进程产生子进程
    3. 子进程新建值为对应的 PID 进程组(PID != PGID)
* 子进程不能为父进程的新建对应的进程组 ------------------------- 02.cc
    1. 进程产生测试的父进程
    2. 测试的父进程产生测试的子进程
    3. 此时, 测试的父进程的进程ID和进程组ID不同
    4. 测试的子进程为测试的父进程新建值为对应PID的进程组, 失败
* 新建子进程的进程组(子进程属于不同的会话, 失败) --------------- 03.cc
    1. 父进程产生子进程
    2. 子进程新建会话
    3. 此时, 子进程的进程ID和进程组ID相同, 父子进程属于不同的会话
    4. 父进程新建子进程对应的进程组, 失败
* 新建子进程的进程组(子进程调用exec之后, 失败) ----------------- 04.cc
    1. 父进程产生子进程
    2. 子进程调用exec函数
    3. 此时, 父进程新建子进程对应的进程组, 失败
* 新建子进程的进程组(其他情况, 成功) --------------------------- 05.cc
    1. 父进程产生子进程
    2. 此时, 子进程的进程ID和进程组ID不同, 父子进程属于相同的会话
    3. 此时, 父进程新建子进程对应的进程组, 成功
* 不能新建孙进程对应的进程组 ----------------------------------- 06.cc
    1. 父进程新建管道
    2. 父进程产生子进程
    3. 子进程产生孙进程, 并将孙进程的PID发送给父进程
    4. 此时, 父进程, 子进程, 孙进程属于同一个会话, 同一个进程组
    5. 父进程新建孙进程对应的进程组, 失败
* 不能新建会话首进程对应的的进程组 ----------------------------- 07.cc -- 也没意义, PGID和PID相同
    1. 父进程产生子进程
    2. 子进程建立新会话
    3. 此时, 子进程的 PIG, PGID, SID 相同
    4. 子进程新建自身对应的进程组, 失败

## 修改进程组
* 目标进程组必须存在
* 目标进程组和原进程组必须属于同一个会话 ----------------------- 08.cc
    1. 父进程产生子进程
    2. 子进程建立新会话
    3. 此时, 子进程的 PIG, PGID, SID 相同
    4. 此时, 父子进程属于不同的会话
    5. 父进程修改自身的进程组为子进程的进程组, 失败
* 其他情况与新建进程组相同

## 销毁进程组
* 创建进程组的进程退出或修改进程组时, 只要原进程组还有其他进程, 原进程组就不会消失
* 当该进程组的最后一个进程退出或所属的进程组被修改时, 原进程组消失
* 可以向同一进程组内的所有成员统一发送信号

## 进程组与进程和会话的关系
* 一个进程组包含一个或多个进程
* 一个进程组只能属于一个会话

## 相关函数
* getpgid()
* setpgid()

