
#include "log.h"

void test(const std::string& str, double x) {
    log(str + " => " + Double(x).double_by_cs);
}

int main() {
    log();
    log("测试浮点数不精确");
    log();

    test("4503599627370496.0", 4503599627370496.0);
    test("4503599627370496.1", 4503599627370496.1);
    test("4503599627370496.2", 4503599627370496.2);
    test("4503599627370496.3", 4503599627370496.3);
    test("4503599627370496.4", 4503599627370496.4);
    test("4503599627370496.5", 4503599627370496.5);
    test("4503599627370496.6", 4503599627370496.6);
    test("4503599627370496.7", 4503599627370496.7);
    test("4503599627370496.8", 4503599627370496.8);
    test("4503599627370496.9", 4503599627370496.9);
    test("4503599627370490  ", 4503599627370490);
    test("4503599627370491  ", 4503599627370491);
    test("4503599627370492  ", 4503599627370492);
    test("4503599627370493  ", 4503599627370493);
    test("4503599627370494  ", 4503599627370494);
    test("4503599627370495  ", 4503599627370495);
    test("4503599627370496  ", 4503599627370496);
    test("4503599627370497  ", 4503599627370497);
    test("4503599627370498  ", 4503599627370498);
    test("4503599627370499  ", 4503599627370499);

    log();
    log("主进程正常退出");
    log();
    return 0;
}
